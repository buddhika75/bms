<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="con" />
        <cc:attribute name="controller" />
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <h:outputStylesheet library="css" name="paySheet.css" ></h:outputStylesheet>
        <h:form>
            <p:spacer height="300" />
            <div>
                <div style="position: relative!important;
                     /*padding-left: 0.5%!important;*/
                     height:95%!important;
                     width:95%!important; 
                     /*             overflow:hidden!important; */
                     font-family: Times New Roman!important; 
                     font-size: 10px!important; 
                     margin:2px!important; 
                     padding: 5px!important;
                     /*             background-size: 100% auto!important;*/
                     letter-spacing: 0px;
                     /*             border: 1px solid!important;*/">

                    <div class="institutionName" style="text-align: center!important;
                         text-decoration-line: underline;
                         font-weight: bold!important;
                         font-size: 30px!important;">
                        Referral  Letter
                    </div>  
                    <div style="font-family: Times New Roman!important;
                         letter-spacing: 0px; padding-left: 5%; padding-top: 5%;">
                        <table style="font-size: 20px!important;">
                            <tr>
                                <td colspan="3">
                                    <p:outputLabel value="#{cc.attrs.con.fromDate}" >
                                        <f:convertDateTime pattern="dd MMMM yyyy" ></f:convertDateTime>
                                    </p:outputLabel>
                                </td>
                            </tr>
                            <tr>
                                <td><p:spacer height="15" /></td>
                                <td><h:outputLabel value=" "/></td>
                                <td><h:outputLabel value=" "/></td>
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <h:outputLabel value="#{cc.attrs.con.doctor.person.nameWithTitle}"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <h:outputLabel value="#{cc.attrs.con.doctor.qualification}"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <h:outputLabel value="#{cc.attrs.con.doctor.speciality.name}"/>
                                </td>
                            </tr>
                            <tr>
                                <td><p:spacer height="15" /></td>
                                <td><h:outputLabel value=" "/></td>
                                <td><h:outputLabel value=" "/></td>
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <h:outputLabel value="#{cc.attrs.con.header}"/>
                                </td>
                            </tr>
                            <tr>
                                <td><p:spacer height="15" /></td>
                                <td><h:outputLabel value=" "/></td>
                                <td><h:outputLabel value=" "/></td>
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <p>
                                        #{cc.attrs.con.diagnosis}
    <!--                                    This #{cc.attrs.con.patient.person.age} old #{cc.attrs.con.patient.person.nameWithTitle} 
                                        Presented with #{cc.attrs.con.string2} For days / weeks duration. 
                                        O/E Found to have #{cc.attrs.con.string1} Please see and do the needful/ arrange Ultrasound scanning of 
                                        Abdomen/Pelvis/KUB on this patient.-->

                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td><p:spacer height="15" /></td>
                                <td><h:outputLabel value=" "/></td>
                                <td><h:outputLabel value=" "/></td>
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <p>
                                        #{cc.attrs.con.specialComments}
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td><p:spacer height="20" /></td>
                                <td><h:outputLabel value=" "/></td>
                                <td><h:outputLabel value=" "/></td>
                            </tr>
                            <tr>
                                <td colspan="3">
                                    <h:outputLabel value="Thank You," />
                                </td>
                            </tr>

                            <tr>
                                <td><p:spacer height="70" /></td>
                                <td><h:outputLabel value=" "/></td>
                                <td><h:outputLabel value=" "/></td>
                            </tr>

                            <tr>
                                <td colspan="3">
                                    <h:outputLabel value="Signature &amp;  Seal of the Doctor / Consultant" style="text-decoration: overline;"/>
                                </td>
                            </tr>

                            <tr>
                                <td><p:spacer height="80" /></td>
                                <td><h:outputLabel value=" "/></td>
                                <td><h:outputLabel value=" "/></td>
                            </tr>


                        </table>
                    </div>
                    <p:spacer height="40" />
                    <div class="institutionName" style="text-align: center!important;
                         font-weight: bold!important;
                         font-size: 17px!important;">
                        #{sessionController.institution.chequePrintingName}<br></br>
                    </div>
                    <p:spacer height="10" />
                    <hr></hr>
                    <p:spacer height="5" />
                    <div class="institutionName" style="text-align: center!important;
                         font-weight: bold!important;
                         font-size: 17px!important;
                         font-family: monospace;">
                        Fully Computerized Patient and Laboratory Information System
                    </div>
                    <p:spacer height="5" />
                    <hr></hr>

                    <div class="institutionName" style="text-align: center!important;
                         font-weight: bold!important;
                         font-size: 17px!important;">

                        <div style="width: 8cm; height: 1cm; text-align: center; overflow: hidden;" >
                            <p:barcode   style="width: 7.5cm; height: 5cm;"   type="code128" cache="false" value="#{letterController.patient.phn}" ></p:barcode>
                        </div>                    
                    </div>
                </div>
            </div>
        </h:form>

    </cc:implementation>
</html>